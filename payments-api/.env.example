# Payments API environment configuration

# Require Stripe configuration at startup (default: false)
# REQUIRE_STRIPE=true

# Stripe API keys
STRIPE_API_KEY=sk_test_your_stripe_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Database
DATABASE_URL=sqlite:payments.db

# Server
BIND_ADDRESS=127.0.0.1:8081

# CORS (comma-separated origins). If unset, the API defaults to allowing:
# - https://y3kmarkets.com
# - https://x.y3kmarkets.com
# - https://y3kmarkets.pages.dev
# - http://localhost:3000
#
# In production, keep this strict.
CORS_ALLOWED_ORIGINS=https://y3kmarkets.com,https://x.y3kmarkets.com

# Logging
RUST_LOG=info

# Basic abuse protection
# Per-IP create-intent rate limit (fixed window). Set to 0 to disable.
RATE_LIMIT_CREATE_INTENT_PER_MINUTE=30

# Certificate + funding proof signing
# Base64 of a 32-byte Ed25519 seed. Keep this secret.
# Y3K_SIGNING_KEY_ED25519=

# If true, fail issuance when signing key is missing.
# REQUIRE_CERT_SIGNATURE=true

# If true, fail server startup when signing key is missing.
# REQUIRE_SIGNING_KEY=true

# Optional: Partner/Affiliate settings
# DEFAULT_PARTNER_COMMISSION_PERCENT=30
# DEFAULT_AFFILIATE_COMMISSION_PERCENT=10

# Affiliate/Broker program (admin + link generation)
# IMPORTANT: Set this to a long random value in production.
AFFILIATE_ADMIN_TOKEN=change_me_to_a_long_random_secret

# Y3K admin (agent provisioning + phone binding)
# IMPORTANT: This controls privileged ops endpoints like phone binding.
Y3K_ADMIN_TOKEN=change_me_to_a_long_random_secret

# AI runtime (optional). If unset, agents are still provisioned but may not respond with LLM output.
# AI_PROVIDER=openai
# AI_MODEL=gpt-4o-mini
# OPENAI_API_KEY=sk_your_openai_key_here

# URLs used when the API returns links to brokers.
AFFILIATE_PORTAL_BASE_URL=https://y3kmarkets.com/partner
AFFILIATE_REFERRAL_BASE_URL=https://y3kmarkets.com/invite
